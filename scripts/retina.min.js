/*!
 * Retina.js v2.1.1
 *
 * Copyright 2016 Axial, LLC
 * Released under the MIT license
 *
 * Retina.js is an open source script that makes it easy to serve
 * high-resolution images to devices with retina displays.
 */
"use strict";function arrayify(e){return Array.prototype.slice.call(e)}function chooseCap(e){var t=parseInt(e,10);return environment<t?environment:t}function forceOriginalDimensions(e){return e.hasAttribute("data-no-resize")||(0===e.offsetWidth&&0===e.offsetHeight?(e.setAttribute("width",e.naturalWidth),e.setAttribute("height",e.naturalHeight)):(e.setAttribute("width",e.offsetWidth),e.setAttribute("height",e.offsetHeight))),e}function setSourceIfAvailable(e,t){var n=e.nodeName.toLowerCase(),r=document.createElement("img");r.addEventListener("load",function(){"img"===n?forceOriginalDimensions(e).setAttribute("src",t):e.style.backgroundImage="url("+t+")"}),r.setAttribute("src",t),e.setAttribute(processedAttr,!0)}function dynamicSwapImage(e,t){var n=chooseCap(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);t&&n>1&&setSourceIfAvailable(e,t.replace(srcReplace,"@"+n+"x$1"))}function manualSwapImage(e,t,n){environment>1&&setSourceIfAvailable(e,n)}function getImages(e){return e?"function"==typeof e.forEach?e:arrayify(e):"undefined"!=typeof document?arrayify(document.querySelectorAll(selector)):[]}function cleanBgImg(e){return e.style.backgroundImage.replace(inlineReplace,"$2")}function retina(e){getImages(e).forEach(function(e){if(!e.getAttribute(processedAttr)){var t="img"===e.nodeName.toLowerCase()?e.getAttribute("src"):cleanBgImg(e),n=e.getAttribute("data-rjs");!isNaN(parseInt(n,10))?dynamicSwapImage(e,t,n):manualSwapImage(e,t,n)}})}var hasWindow="undefined"!=typeof window,environment=Math.ceil(hasWindow?window.devicePixelRatio||1:1),srcReplace=/(\.[A-z]{3,4}\/?(\?.*)?)$/,inlineReplace=/url\(('|")?([^\)'"]+)('|")?\)/i,selector="[data-rjs]",processedAttr="data-rjs-processed";hasWindow&&(window.addEventListener("load",retina),window.retinajs=retina),retinajs();
